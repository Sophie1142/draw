<!DOCTYPE html>
<html>
    <head>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <title> Draw! </title>
    </head>
    <body>
        <svg id="svg" style="width:1005; height: 800px;"></svg>
    </body>
    <script>
        const svg = d3.select('#svg');

        let two_coords = [];

        // Boolean to determine if we should be drawing
        let drawing = false;
        
        function draw_point() { // If mouse is not down, i.e. should not be drawing, then exit the draw_point function
            if (!drawing)
                return;

            // Determine mouse's current location
            const coords = d3.mouse(this);

            // Draw a small circle at that location
            svg.append('circle')
                .attr('cx', coords[0])
                .attr('cy', coords[1])
                .attr('r', 5)
                .style('fill', 'black');

            // Keep track of most recent 2 dots
            if (two_coords.length < 2) {
                two_coords.push(coords);
            }
            else {
                two_coords.shift();
                two_coords.push(coords);
            
            svg.append('line') 
                .attr('x1', two_coords[0][0])
                .attr('x2', two_coords[1][0])
                .attr('y1', two_coords[0][1])
                .attr('y2', two_coords[1][1])
                .attr('stroke-width', 10)
                .style('stroke', 'black');
            }
            console.log(two_coords)    
        };

        svg.on('mousedown', () => {
            drawing = true;
        });

        svg.on('mouseup', () => {
            drawing = false;
        });

        // 'drawing' Boolean prevents from drawing all the time
        svg.on('mousemove', draw_point);
        
    </script>
</html>